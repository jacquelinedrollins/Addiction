{"version":3,"sources":["webpack:///./src/pages/login/phone-verif/phone-verif.module.ts","webpack:///./src/pages/login/phone-verif/phone-verif.page.html","webpack:///./src/pages/login/phone-verif/phone-verif.page.scss","webpack:///./src/pages/login/phone-verif/phone-verif.page.ts"],"names":[],"mappings":"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","file":"pages-login-phone-verif-phone-verif-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicSelectableModule } from 'ionic-selectable';\nimport { IonicModule } from '@ionic/angular';\n\nimport { PhoneVerifPage } from './phone-verif.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PhoneVerifPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule, ReactiveFormsModule, IonicSelectableModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PhoneVerifPage]\n})\nexport class PhoneVerifPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button routerDirection=\\\"backward\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Verification</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding scroll=\\\"false\\\">\\n  <h6>A verification code has been sent to your mobile <b>+{{phone.area.callingCode}}{{phone.tel}}</b>. Please enter the verification code below.</h6>\\n  <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submit()\\\" novalidate>\\n    <ion-item no-padding margin-vertical>\\n      <ion-label position=\\\"floating\\\">Verification Code</ion-label>\\n      <ion-input #input pattern=\\\"[0-9]*\\\" no-margin type=\\\"tel\\\" formControlName=\\\"code\\\"></ion-input>\\n    </ion-item>\\n    <div class=\\\"error\\\" *ngIf=\\\"form.get('code').hasError('minlength') && (form.get('code').touched || form.get('code').dirty)\\\">Code must be 6 digit length</div>\\n    <div class=\\\"error\\\" *ngIf=\\\"form.get('code').hasError('maxlength') && (form.get('code').touched || form.get('code').dirty)\\\">Code must be 6 digit length</div>\\n    <div class=\\\"error\\\" *ngIf=\\\"form.get('code').hasError('pattern') && (form.get('code').touched || form.get('code').dirty)\\\">Code must be numeric</div>\\n    <ion-button type=\\\"submit\\\" icon-start margin-vertical [disabled]=\\\"loading || form.invalid\\\" shape=\\\"round\\\" expand=\\\"block\\\" tappable (click)=\\\"submit()\\\">\\n      <ion-spinner *ngIf=\\\"loading\\\" slot=\\\"start\\\"></ion-spinner>\\n      Submit\\n    </ion-button>\\n  </form>\\n  <!-- <div *ngIf=\\\"tick == 0; else nosend\\\" >\\n    <p text-center>Dont receive verification code?</p>\\n    <ion-button type=\\\"submit\\\" shape=\\\"round\\\" fill=\\\"outline\\\" tappable (click)=\\\"resend()\\\">Resend Code</ion-button>\\n  </div>\\n  <ng-template #nosend>\\n    <p text-center>Please wait <b>{{tick}} seconds</b> to resend</p>\\n  </ng-template>\\n\\n  <ng-container *ngIf=\\\"!data.from\\\" margin-top>\\n    <div class=\\\"divider\\\" margin-top>\\n        <div class=\\\"text\\\"> OR </div>\\n    </div>\\n    <div margin-top>\\n      <ion-button type=\\\"button\\\" tappable (click)=\\\"backToLogin()\\\" shape=\\\"round\\\" expand=\\\"block\\\" color=\\\"secondary\\\" shape=\\\"round\\\" expand=\\\"block\\\">Back to Login</ion-button>\\n    </div>\\n  </ng-container> -->\\n</ion-content>\\n\"","module.exports = \"ion-input {\\n  font-size: 2em;\\n  text-align: center;\\n  letter-spacing: 10px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9taXJ6YWlsaGFtaS9Ecm9wYm94L2lvbmljcHJlbWl1bS9hdXRoeTIvc3JjL3BhZ2VzL2xvZ2luL3Bob25lLXZlcmlmL3Bob25lLXZlcmlmLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsb0JBQW9CLEVBQUEiLCJmaWxlIjoic3JjL3BhZ2VzL2xvZ2luL3Bob25lLXZlcmlmL3Bob25lLXZlcmlmLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pbnB1dHtcbiAgICBmb250LXNpemU6IDJlbTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDEwcHg7XG59Il19 */\"","import { NavController } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthService, LoadingService, ToastService } from 'src/services/services';\n\n@Component({\n  selector: 'app-phone-verif',\n  templateUrl: './phone-verif.page.html',\n  styleUrls: ['./phone-verif.page.scss'],\n})\nexport class PhoneVerifPage implements OnInit {\n  public form: FormGroup;\n  public phone: any;\n  private verificationId: any;\n  private action: string;\n  private user: any;\n  public loading: any = false;\n\n  constructor(private param: ActivatedRoute, private nav: NavController, public auth: AuthService, private toast: ToastService, private fb: FormBuilder) {\n      this.param.queryParams.subscribe((params: any) => {\n        if (params) {\n          this.user = params.user ? JSON.parse(params.user) : {};\n          this.action = params.action;\n          this.phone = JSON.parse(params.phone);\n          this.verificationId = params.verificationId;\n        }\n      });\n    }\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      code: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(6), Validators.pattern('[0-9]+')] ]\n    });\n  }\n\n  submit() {\n    if (this.action === 'update') {\n      // this.loading.present().then(() => {\n        this.auth.updatePhone(this.verificationId, this.form.value.code, this.phone).then( (res: string) => {\n          // this.loading.dismiss();\n          this.nav.navigateRoot(['tabs/profile']);\n          this.toast.show(res);\n        }).catch(err => {\n          console.log(err);\n          // this.loading.dismiss();\n          this.toast.showWithClose(err);\n        });\n      // });\n    } else if (this.action === 'register') {\n      this.loading = true;\n      this.auth.registerByPhone(this.user, this.verificationId, this.form.value.code).then((res: string) => {\n        this.toast.show(res);\n        this.nav.navigateRoot('tabs');\n        this.loading = false;\n      }).catch(err => {\n        this.loading = false;\n        console.log(err);\n        this.toast.showWithClose(err);\n      });\n    } else {\n      // login using phone number\n      // this.loading.present().then(() => {\n        this.auth.phoneAuth(this.verificationId, this.form.value.code, this.phone).then( (res: string) => {\n          this.toast.show(res);\n          this.nav.navigateForward('tabs');\n          // this.loading.dismiss();\n        }).catch(err => {\n          console.log(err);\n          // this.loading.dismiss();\n          this.toast.showWithClose(err);\n        });\n      // });\n    }\n  }\n\n}\n"],"sourceRoot":""}